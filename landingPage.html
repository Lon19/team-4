<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="values.css">
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<h2>November 1, 2019</h2>

<div class='column1'>
<div class="tab">
    <button class="tablinks" onclick="openGraph(event, 'MentalHealth')">Mental Health</button>
    <button class="tablinks" onclick="openGraph(event, 'Confidence')">Work Self Confidence</button>
    <button class="tablinks" onclick="openGraph(event, 'Culture')">Organisational Culture</button>
</div>

<div id="MentalHealth" class="tabcontent" style="display: block">
    <div class='card'>
        <h3>Mental Health</h3>
        <canvas id = 'MentalHealthChart'></canvas>
        <input type="range" min="1" max="25" value="25" class="slider" id="myRange">
        <canvas id = 'MentalHealthLineChart'></canvas>
    </div>
</div>

<div id="Confidence" class="tabcontent">
    <h3>Work Self Confidence</h3>
    <canvas id = 'ConfidenceChart'></canvas>
    <canvas id = 'ConfidenceLineChart'></canvas>
</div>

<div id="Culture" class="tabcontent">
    <h3>Organisational Culture</h3>
    <canvas id = 'CultureChart'></canvas>
    <canvas id = 'CultureLineChart'></canvas>
</div>

<input type="range" min="1" max="25" value="25" class="slider" id="myRange">
<p>Value: <span id='demo'></span></p>

</div>

<div class='column2'>
    <h3 style="padding-left: 10px">Adjustment</h3>
    <p style='padding-left: 10px'>Text Here</p>
</div>


<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
<script>
    function openGraph(evt, graphName) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(graphName).style.display = "block";
        evt.currentTarget.className += " active";
    }

    function getDate(){
    }
</script>

<script>
var userMentalH;
var userOrganisationalCulture;
var userSelfConfidence;
var userAdjustment;

function getMentalHealthData(x){

  d3.csv("Mental-health-Table1.csv", function(d){
        if("22222222" == d.Username){
            return{
                date : d.Date,
                depression : +d.Depression,
                anxiety : +d.Anxiety,
                stress : +d.Stress
            };

        }


   }).then(function(data){
       console.log(data[x])
       MentalHealthDataSet.datasets[0].data = [data[x].depression, data[x].anxiety, data[x].stress];
       MentalHealthRadarChart.update();
      // do something
   });
}

function getOrganisationalCulture(){

    d3.csv(("Organisational-culture-Table1.csv").url(), function(d){

    return{
        data : d.Date,
        average : +d.Average
    };

    }).then(function(data){
        // do something here
    });
}

  function getSelfConfidence(){
      d3.csv("How_rate_your_confidence-Table1.csv", function(d){

      return{
          date : d.Date,
          learning : +d.Learning,
          problemSolving : +d.Problemsolving,
          pressure : +d.Pressure,
          roleExpectation : +d.Roleexpectations,
          teamwork : +d.Teamwork,
          sensitivity : +d.Sensitivity,
          workPolitics : +d.Workpolitics

      };

      }).then(function(data){

      // do something here
      });

  }

  function getAdjustment(){
      d3.csv("Autistica-8211-Adjustments.csv", function(d){

      return{
          data : d.Date,

      };

      }).then(function(data){
          // do something here
      });

  }


var MentalHealthChartVar = document.getElementById('MentalHealthChart');
var ConfidenceChartVar = document.getElementById('ConfidenceChart');
var CultureChartVar = document.getElementById('CultureChart');

var MentalHealthctx = document.getElementById("MentalHealthLineChart").getContext('2d');
var Confidencectx = document.getElementById("ConfidenceLineChart").getContext('2d');
var Culturectx = document.getElementById("CultureLineChart").getContext('2d');


var MentalHealthLineChart = new Chart(MentalHealthctx, {
    type: 'line',
    data: {
        labels: ["January",	"February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
        datasets: [{
            label: 'Series 1', // Name the series
            data: [3, 4, 2,	5, 9, 1, 2, 6, 2.5, 3, 7, 6], // Specify the data values array
            fill: false,
            borderColor: '#2196f3', // Add custom color border (Line)
            backgroundColor: '#2196f3', // Add custom color background (Points and Fill)
            borderWidth: 1 // Specify bar border width
        }]},
    options: {
      responsive: true, // Instruct chart js to respond nicely.
      maintainAspectRatio: true, // Add to prevent default behaviour of full-width/height
    }
});

var ConfidenceLineChart = new Chart(Confidencectx, {
    type: 'line',
    data: {
        labels: ["January",	"February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
        datasets: [{
            label: 'Series 1', // Name the series
            data: [3, 4, 2,	5, 9, 1, 2, 6, 2.5, 3, 7, 6], // Specify the data values array
            fill: false,
            borderColor: '#2196f3', // Add custom color border (Line)
            backgroundColor: '#2196f3', // Add custom color background (Points and Fill)
            borderWidth: 1 // Specify bar border width
        }]},
    options: {
      responsive: true, // Instruct chart js to respond nicely.
      maintainAspectRatio: true, // Add to prevent default behaviour of full-width/height
    }
});

var CultureLineChart = new Chart(Culturectx, {
    type: 'line',
    data: {
        labels: ["January",	"February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
        datasets: [{
            label: 'Series 1', // Name the series
            data: [3, 4, 2,	5, 9, 1, 2, 6, 2.5, 3, 7, 6], // Specify the data values array
            fill: false,
            borderColor: '#2196f3', // Add custom color border (Line)
            backgroundColor: '#2196f3', // Add custom color background (Points and Fill)
            borderWidth: 1 // Specify bar border width
        }]},
    options: {
      responsive: true, // Instruct chart js to respond nicely.
      maintainAspectRatio: true, // Add to prevent default behaviour of full-width/height
    }
});

    options = {
        scale: {
            angleLines: {
                display: false
            },
            ticks: {
                suggestedMin: 0,
                suggestedMax: 10
            }
        }
    };

    var MentalHealthDataSet = {
        labels: ["Depression", "Anxiety", "Stress"],
        datasets: [{
            label: "entry",
            backgroundColor: "rgba(178, 76, 90, 0.1)",
            borderColor: "rgba(178, 76, 90, 1)",
            data: []
        }]
    };

    getMentalHealthData(24);

    var CultureDataSet = {
        labels: ["Learning", "Problem Solving", "Pressure", "Role Expectations", "Teamwork", "Sensitivity", "Work Politics"],
        datasets: [{
            label: "entry",
            backgroundColor: "rgba(157, 213, 203, 0.1)",
            borderColor: "rgba(157, 213, 203, 1)",
            data: [5, 4, 6, 7, 2, 1, 3.5]
        }]
    };

    var MentalHealthRadarChart = new Chart(MentalHealthChartVar, {
        type: 'radar',
        data: MentalHealthDataSet,
        options: options
    });

    var ConfidenceRadarChart = new Chart(ConfidenceChartVar, {
        type: 'bar',
          data: {
            labels: ["Average"],
            datasets: [{
              label: 'Average',
              data: [9],
              backgroundColor: [
                'rgba(255, 99, 132, 0.2)'
              ],
              borderColor: [
                'rgba(255,99,132,1)',
              ],
              borderWidth: 1
            }]
          },
          options: {
            responsive: false,
            scales: {
              xAxes: [{
                ticks: {
                  maxRotation: 90,
                  minRotation: 80
                }
              }],
              yAxes: [{
                ticks: {
                  beginAtZero: true
                }
              }]
            }
          }
        });

    var CultureRadarChart = new Chart(CultureChartVar, {
        type: 'radar',
        data: CultureDataSet,
        options: options
    });

    var slider = document.getElementById('myRange');
    var output = document.getElementById('demo');
    output.innerHTML = slider.value;

    slider.oninput=function() {
        getMentalHealthData(slider.value-1);
        ConfidenceDataSet.datasets[0].data = [10];
        CultureDataSet.datasets[0].data = [10, 2, 9, 1, 8, 4, 7];
        ConfidenceRadarChart.update();
        CultureRadarChart.update();
    }
</script>

</body>
</html>
